---
layout: post
title: "Pi软、硬关机，你学会了吗? "
tag: Pi4-入门 
---   



小伙伴们脑海里有了第一个疑问？Pi到底是如何关机呢？
在讲解这个问题前，我们从初学者的角度出发，分为2种关机方式：*硬关机、软关机*。



## 方案一：硬关机

何为硬关机？就是和硬件有关的关机方式。别说你从来没硬关机过，100%的玩家，都暴力、粗犷的关机过。其实硬关机就是在你不想用Pi的时候，直接一拔插头，就算完事了。简单吧？够简单。合理吧？基本合理。

这里为什么写基本合理？
答：
怎样合理？如果你只是开机，在pi上简单的操作几下鼠标。pi上学习一下linux命令。这些不涉及写入系统的操作。这种关机方式，基本没什么问题。也别太担心会搞坏系统卡。笔者也经常这样关机的，从来没搞坏过卡。
那怎样才不合理呢？比如你启动到Pi的桌面，在桌面上新建一个文件夹（鼠标右键->新建文件夹）。这时候直接拔开插头。再次重启到Pi桌面上。疑，刚才新建的文件夹不见了？？亦或者，你SSH登录Pi。千辛万苦，按照“网上某篇幅独门秘籍”，用nano改写了好多系统文件，然后想重启下看下结果。奇怪……现象不对呀。深深地陷入苦恼中……
以上2个例子都是涉及到Linux的写入操作，抱歉，由于linux写入机制是先放入缓存，然后在系统空闲的时刻（自由调度），来真正写入存储器中。所以用硬关机，你必然会吃“闭门羹”，会导致写不全，或者根本没有写！【笔者也常常掉入坑里，尤其是SSH nano N个文件后。问问自己，硬关机了吗？】

总结：“如果只是简单学习下pi，不在乎保存什么文件的。尽管硬关机吧，就把Pi当单片机来使唤吧！尽情的硬关机吧！如果你打算把Pi做服务器的，或者希望Pi上存放资料的，不要停，往下看！”



## 方案二：软关机

软关机，实际在硬关机的前面多一个软件操作步骤而已。不管是通过SSH，还是在桌面上运行LXcommand，亦或是通过串口线登录到Pi的终端上。
运行：`sudo halt` 就是软关机命令。

运行后，Putty看到网络中断的错误。大约等待3-5分钟。观察硬件，如下图：

整个Pi电路板，网络灯也熄灭了。只剩下一个电源灯常亮！这时候您就可以放心的断电，拔插头了。linux的系统文件也会保存在系统内，不会丢失！



### 题外话：如何软重启？
运行：`sudo reboot` 就是软重启命令。putty同样提示网络断开，大约3-5分钟后，重新打开putty就能再次连接上Pi